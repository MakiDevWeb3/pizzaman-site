<!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Commande Confirm&eacute;e - PizzaMan</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"><style>@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Playfair+Display:wght@400;700&display=swap');*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Poppins',sans-serif;background:linear-gradient(135deg,#FFF8F0 0%,#f5e6d3 100%);color:#2C3E50;min-height:100vh;overflow-x:hidden}header{position:fixed;top:0;left:0;right:0;z-index:1000;background:rgba(255,248,240,0.85);backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,0.3);box-shadow:0 8px 32px rgba(0,0,0,0.1);transition:all 0.3s ease}nav{max-width:1400px;margin:0 auto;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center}.logo{font-family:'Playfair Display',serif;font-size:1.8rem;font-weight:700;color:#C0392B;text-decoration:none;display:flex;align-items:center;gap:0.5rem}.logo i{font-size:2rem}.nav-links{display:flex;gap:2rem;align-items:center;list-style:none}.nav-links a{color:#2C3E50;text-decoration:none;font-weight:500;transition:color 0.3s ease;position:relative}.nav-links a:hover{color:#C0392B}.nav-links a::after{content:'';position:absolute;bottom:-5px;left:0;width:0;height:2px;background:#C0392B;transition:width 0.3s ease}.nav-links a:hover::after{width:100%}.cart-icon{position:relative;cursor:pointer;font-size:1.4rem;color:#C0392B}.cart-badge{position:absolute;top:-8px;right:-8px;background:#C0392B;color:white;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:0.7rem;font-weight:700}.user-greeting{color:#27AE60;font-weight:600;font-size:0.9rem}.hamburger{display:none;flex-direction:column;cursor:pointer;gap:5px}.hamburger span{width:25px;height:3px;background:#C0392B;transition:all 0.3s ease;border-radius:2px}main{margin-top:80px;padding:3rem 2rem;max-width:1200px;margin-left:auto;margin-right:auto;min-height:calc(100vh - 400px)}.success-animation{text-align:center;padding:2rem 0;position:relative;overflow:hidden}.checkmark-circle{width:120px;height:120px;margin:0 auto 1.5rem;position:relative;border-radius:50%;background:#27AE60;display:flex;align-items:center;justify-content:center;animation:scaleIn 0.6s cubic-bezier(0.175,0.885,0.32,1.275)}.checkmark{width:60px;height:60px;stroke:#fff;stroke-width:4;stroke-linecap:round;animation:drawCheck 0.8s 0.3s ease forwards}.checkmark-path{stroke-dasharray:100;stroke-dashoffset:100}@keyframes scaleIn{from{transform:scale(0);opacity:0}to{transform:scale(1);opacity:1}}@keyframes drawCheck{to{stroke-dashoffset:0}}.success-title{font-family:'Playfair Display',serif;font-size:2.5rem;color:#27AE60;margin-bottom:0.5rem;animation:fadeInUp 0.6s 0.5s backwards}.success-subtitle{color:#2C3E50;font-size:1.1rem;opacity:0.8;animation:fadeInUp 0.6s 0.7s backwards}.confetti{position:absolute;width:10px;height:10px;background:#F39C12;top:-10px;animation:fall 3s linear infinite}.confetti:nth-child(2n){background:#C0392B;animation-delay:0.5s;left:20%}.confetti:nth-child(3n){background:#27AE60;animation-delay:1s;left:40%}.confetti:nth-child(4n){background:#3498DB;animation-delay:1.5s;left:60%}.confetti:nth-child(5n){background:#9B59B6;animation-delay:2s;left:80%}@keyframes fall{to{top:100%;transform:rotate(360deg)}}@keyframes fadeInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.code-card{background:linear-gradient(135deg,rgba(243,156,18,0.2),rgba(243,156,18,0.05));backdrop-filter:blur(10px);border:2px solid rgba(243,156,18,0.3);border-radius:16px;padding:2.5rem;margin:2rem auto;max-width:600px;text-align:center;box-shadow:0 8px 32px rgba(0,0,0,0.1);animation:fadeInUp 0.6s 0.9s backwards}.code-title{font-size:1.5rem;font-weight:600;color:#2C3E50;margin-bottom:1rem}.code-display{background:white;border:3px dashed #C0392B;border-radius:12px;padding:1.5rem;margin:1.5rem 0;position:relative}.code-text{font-size:3rem;font-weight:900;color:#C0392B;letter-spacing:0.3rem;font-family:'Courier New',monospace;user-select:all}.copy-btn{position:absolute;top:1rem;right:1rem;background:#27AE60;color:white;border:none;padding:0.5rem 1rem;border-radius:8px;cursor:pointer;display:flex;align-items:center;gap:0.5rem;transition:all 0.3s ease;font-size:0.9rem}.copy-btn:hover{transform:scale(1.05);background:#229954}.copy-btn.copied{background:#F39C12}.code-note{color:#2C3E50;font-size:0.95rem;opacity:0.8;margin-top:1rem}.order-summary{background:rgba(255,255,255,0.85);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.3);border-radius:16px;padding:2rem;margin:2rem 0;box-shadow:0 8px 32px rgba(0,0,0,0.1);animation:fadeInUp 0.6s 1.1s backwards}.summary-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:2px solid rgba(192,57,43,0.2)}.summary-title{font-family:'Playfair Display',serif;font-size:1.8rem;color:#C0392B}.order-number{font-size:0.9rem;color:#7F8C8D;font-weight:600}.order-details{display:grid;gap:1rem;margin-bottom:1.5rem}.detail-row{display:flex;justify-content:space-between;padding:0.5rem 0;border-bottom:1px solid rgba(0,0,0,0.05)}.detail-label{font-weight:600;color:#2C3E50}.detail-value{color:#7F8C8D}.items-list{background:#FFF8F0;border-radius:12px;padding:1.5rem;margin:1.5rem 0}.item-row{display:flex;justify-content:space-between;align-items:center;padding:0.75rem 0;border-bottom:1px solid rgba(0,0,0,0.05)}.item-row:last-child{border-bottom:none}.item-name{font-weight:500;color:#2C3E50}.item-qty{color:#7F8C8D;font-size:0.9rem;margin-left:1rem}.item-price{font-weight:600;color:#C0392B}.total-section{margin-top:1.5rem;padding-top:1.5rem;border-top:2px solid rgba(192,57,43,0.2)}.total-row{display:flex;justify-content:space-between;padding:0.5rem 0;font-size:1.1rem}.total-row.final{font-size:1.5rem;font-weight:700;color:#C0392B;margin-top:1rem}.timeline{display:flex;justify-content:space-between;align-items:center;padding:3rem 2rem;margin:2rem 0;background:rgba(255,255,255,0.85);backdrop-filter:blur(10px);border-radius:16px;box-shadow:0 8px 32px rgba(0,0,0,0.1);animation:fadeInUp 0.6s 1.3s backwards;position:relative}.timeline::before{content:'';position:absolute;top:50%;left:10%;right:10%;height:3px;background:#E0E0E0;z-index:0}.timeline-progress{position:absolute;top:50%;left:10%;height:3px;background:linear-gradient(90deg,#27AE60,#F39C12);z-index:1;transition:width 1s ease;width:0}.timeline-step{position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;gap:0.5rem;flex:1}.timeline-icon{width:60px;height:60px;border-radius:50%;background:white;border:3px solid #E0E0E0;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#BDC3C7;transition:all 0.5s ease}.timeline-step.active .timeline-icon{background:#27AE60;border-color:#27AE60;color:white;transform:scale(1.1)}.timeline-step.completed .timeline-icon{background:#27AE60;border-color:#27AE60;color:white}.timeline-label{font-size:0.85rem;font-weight:600;color:#7F8C8D;text-align:center;max-width:100px}.timeline-step.active .timeline-label{color:#27AE60}.actions-section{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;margin:3rem 0;animation:fadeInUp 0.6s 1.5s backwards}.btn{padding:1rem 2rem;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;text-decoration:none;display:inline-flex;align-items:center;gap:0.5rem;transition:all 0.3s ease;font-family:'Poppins',sans-serif}.btn-primary{background:linear-gradient(135deg,#C0392B,#F39C12);color:white;box-shadow:0 4px 15px rgba(192,57,43,0.3)}.btn-primary:hover{transform:scale(1.05);box-shadow:0 6px 20px rgba(192,57,43,0.4)}.btn-secondary{background:white;color:#C0392B;border:2px solid #C0392B}.btn-secondary:hover{background:#C0392B;color:white;transform:scale(1.05)}.btn-success{background:#27AE60;color:white}.btn-success:hover{background:#229954;transform:scale(1.05)}footer{background:#2C3E50;color:white;padding:3rem 2rem 1rem}.footer-content{max-width:1400px;margin:0 auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:2rem;margin-bottom:2rem}.footer-section h3{font-family:'Playfair Display',serif;margin-bottom:1rem;color:#F39C12}.footer-section p,.footer-section a{color:rgba(255,255,255,0.8);text-decoration:none;display:block;margin-bottom:0.5rem;transition:color 0.3s ease}.footer-section a:hover{color:#F39C12}.social-icons{display:flex;gap:1rem;margin-top:1rem}.social-icons a{width:40px;height:40px;background:rgba(255,255,255,0.1);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;transition:all 0.3s ease}.social-icons a:hover{background:#F39C12;transform:translateY(-3px)}.footer-bottom{text-align:center;padding-top:2rem;border-top:1px solid rgba(255,255,255,0.1);color:rgba(255,255,255,0.6)}.error-message{text-align:center;padding:3rem 2rem;background:rgba(255,255,255,0.85);backdrop-filter:blur(10px);border-radius:16px;margin:2rem auto;max-width:600px}.error-icon{font-size:4rem;color:#C0392B;margin-bottom:1rem}.error-title{font-family:'Playfair Display',serif;font-size:2rem;color:#C0392B;margin-bottom:1rem}.error-text{color:#7F8C8D;margin-bottom:2rem}@media(max-width:768px){.nav-links{position:fixed;top:0;right:-100%;width:70%;height:100vh;background:rgba(255,248,240,0.98);backdrop-filter:blur(10px);flex-direction:column;padding:5rem 2rem;transition:right 0.3s ease;box-shadow:-5px 0 15px rgba(0,0,0,0.1)}.nav-links.active{right:0}.hamburger{display:flex}.hamburger.active span:nth-child(1){transform:rotate(45deg) translate(8px,8px)}.hamburger.active span:nth-child(2){opacity:0}.hamburger.active span:nth-child(3){transform:rotate(-45deg) translate(7px,-7px)}main{padding:2rem 1rem}.code-text{font-size:2rem;letter-spacing:0.2rem}.timeline{flex-direction:column;padding:2rem 1rem}.timeline::before{top:0;bottom:0;left:30px;width:3px;height:auto}.timeline-progress{top:0;left:30px;width:3px;height:0}.timeline-step{flex-direction:row;width:100%;justify-content:flex-start;gap:1rem}.timeline-icon{width:50px;height:50px;font-size:1.2rem}.timeline-label{text-align:left;max-width:none}.actions-section{flex-direction:column}.btn{width:100%;justify-content:center}.footer-content{grid-template-columns:1fr}}</style></head><body><header><nav><a href="index.html" class="logo"><i class="fas fa-pizza-slice"></i>PizzaMan</a><ul class="nav-links" id="navLinks"><li><a href="index.html">Accueil</a></li><li><a href="menu.html">Menu</a></li><li><a href="order.html">Commander</a></li><li><a href="login.html">Mon Compte</a></li><li><div class="cart-icon" onclick="window.location.href='order.html'"><i class="fas fa-shopping-cart"></i><span class="cart-badge" id="cartBadge">0</span></div></li><li><span class="user-greeting" id="userGreeting"></span></li></ul><div class="hamburger" id="hamburger"><span></span><span></span><span></span></div></nav></header><main><div id="mainContent"></div></main><footer><div class="footer-content"><div class="footer-section"><h3>PizzaMan</h3><p><i class="fas fa-map-marker-alt"></i> 123 Rue de la Pizza, 75001 Paris</p><p><i class="fas fa-phone"></i> +33 1 23 45 67 89</p><p><i class="fas fa-envelope"></i> contact@pizzaman.fr</p><p><i class="fas fa-clock"></i> Lun-Dim: 11h-23h</p></div><div class="footer-section"><h3>Liens Rapides</h3><a href="index.html">Accueil</a><a href="menu.html">Notre Menu</a><a href="order.html">Commander</a><a href="login.html">Mon Compte</a></div><div class="footer-section"><h3>Suivez-nous</h3><div class="social-icons"><a href="#" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a><a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a><a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a><a href="#" aria-label="TikTok"><i class="fab fa-tiktok"></i></a></div></div></div><div class="footer-bottom"><p>&copy; 2026 PizzaMan. Tous droits r&eacute;serv&eacute;s.</p></div></footer><script>function updateCartBadge(){const cart=JSON.parse(localStorage.getItem('pizzaman_cart')||'[]');const totalItems=cart.reduce((sum,item)=>sum+(item.quantity||1),0);const badge=document.getElementById('cartBadge');if(badge){badge.textContent=totalItems;badge.style.display=totalItems>0?'flex':'none'}}function checkUserSession(){const session=JSON.parse(localStorage.getItem('pizzaman_session')||'null');const greeting=document.getElementById('userGreeting');if(session&&session.firstName&&greeting){greeting.textContent=`Bonjour, ${session.firstName}`;greeting.style.display='block'}else if(greeting){greeting.style.display='none'}}function getUrlParameter(name){const urlParams=new URLSearchParams(window.location.search);return urlParams.get(name)}function getOrderById(orderId){const orders=JSON.parse(localStorage.getItem('pizzaman_orders')||'[]');return orders.find(order=>order.id===orderId)}function formatDate(dateString){const date=new Date(dateString);const options={year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'};return date.toLocaleDateString('fr-FR',options)}function generateConfetti(){const container=document.querySelector('.success-animation');for(let i=0;i<15;i++){const confetti=document.createElement('div');confetti.className='confetti';confetti.style.left=Math.random()*100+'%';confetti.style.animationDelay=Math.random()*3+'s';confetti.style.animationDuration=(2+Math.random()*2)+'s';container.appendChild(confetti)}}function copyCode(code){navigator.clipboard.writeText(code).then(()=>{const btn=document.querySelector('.copy-btn');const originalHTML=btn.innerHTML;btn.innerHTML='<i class="fas fa-check"></i> Copi&eacute; !';btn.classList.add('copied');setTimeout(()=>{btn.innerHTML=originalHTML;btn.classList.remove('copied')},2000)}).catch(err=>{console.error('Erreur copie:',err);alert('Impossible de copier le code')})}function animateTimeline(){const steps=document.querySelectorAll('.timeline-step');const progress=document.querySelector('.timeline-progress');let currentStep=0;const totalSteps=steps.length;progress.style.width='25%';steps[0].classList.add('active');const interval=setInterval(()=>{currentStep++;if(currentStep>=totalSteps){clearInterval(interval);return}steps[currentStep-1].classList.remove('active');steps[currentStep-1].classList.add('completed');steps[currentStep].classList.add('active');const progressPercent=(currentStep+1)*(100/totalSteps);progress.style.width=progressPercent+'%'},10000)}function renderOrder(order){const mainContent=document.getElementById('mainContent');const deliveryInfo=order.deliveryMode==='delivery'?`<div class="detail-row"><span class="detail-label">Adresse de livraison:</span><span class="detail-value">${order.address||'Non sp&eacute;cifi&eacute;e'}</span></div>`:order.deliveryMode==='pickup'?`<div class="detail-row"><span class="detail-label">Heure de retrait:</span><span class="detail-value">${order.pickupTime||'D&egrave;s que possible'}</span></div>`:'';const itemsHTML=order.items.map(item=>`<div class="item-row"><div><span class="item-name">${item.name}</span><span class="item-qty">x${item.quantity}</span></div><span class="item-price">${(item.price*item.quantity).toFixed(2)}&euro;</span></div>`).join('');const deliveryFee=order.deliveryMode==='delivery'?3.50:0;const subtotal=order.items.reduce((sum,item)=>sum+(item.price*item.quantity),0);const total=subtotal+deliveryFee;mainContent.innerHTML=`<div class="success-animation"><div class="checkmark-circle"><svg class="checkmark" viewBox="0 0 52 52"><path class="checkmark-path" fill="none" d="M14 27l7 7 16-16"/></svg></div><h1 class="success-title">Commande confirm&eacute;e !</h1><p class="success-subtitle">Merci pour votre commande. Nous pr&eacute;parons vos pizzas avec amour.</p></div><div class="code-card"><h2 class="code-title">Votre code de retrait</h2><div class="code-display"><div class="code-text">${order.code}</div><button class="copy-btn" onclick="copyCode('${order.code}')"><i class="fas fa-copy"></i> Copier</button></div><p class="code-note"><i class="fas fa-info-circle"></i> Pr&eacute;sentez ce code au comptoir lors du retrait</p></div><div class="order-summary"><div class="summary-header"><h2 class="summary-title">R&eacute;capitulatif</h2><span class="order-number">#${order.id}</span></div><div class="order-details"><div class="detail-row"><span class="detail-label">Date:</span><span class="detail-value">${formatDate(order.date)}</span></div><div class="detail-row"><span class="detail-label">Mode:</span><span class="detail-value">${order.deliveryMode==='delivery'?'Livraison':'Retrait en boutique'}</span></div>${deliveryInfo}</div><div class="items-list"><h3 style="margin-bottom:1rem;color:#C0392B;">Articles command&eacute;s</h3>${itemsHTML}</div><div class="total-section"><div class="total-row"><span>Sous-total:</span><span>${subtotal.toFixed(2)}&euro;</span></div>${deliveryFee>0?`<div class="total-row"><span>Frais de livraison:</span><span>${deliveryFee.toFixed(2)}&euro;</span></div>`:''}<div class="total-row final"><span>TOTAL:</span><span>${total.toFixed(2)}&euro;</span></div></div></div><div class="timeline"><div class="timeline-progress"></div><div class="timeline-step active"><div class="timeline-icon"><i class="fas fa-check"></i></div><span class="timeline-label">Re&ccedil;ue</span></div><div class="timeline-step"><div class="timeline-icon"><i class="fas fa-fire"></i></div><span class="timeline-label">En pr&eacute;paration</span></div><div class="timeline-step"><div class="timeline-icon"><i class="fas fa-box"></i></div><span class="timeline-label">Pr&ecirc;te</span></div><div class="timeline-step"><div class="timeline-icon"><i class="fas fa-hand-holding"></i></div><span class="timeline-label">${order.deliveryMode==='delivery'?'Livr&eacute;e':'Retir&eacute;e'}</span></div></div><div class="actions-section"><a href="login.html" class="btn btn-primary"><i class="fas fa-list"></i> Voir mes commandes</a><a href="menu.html" class="btn btn-success"><i class="fas fa-redo"></i> Commander &agrave; nouveau</a><a href="index.html" class="btn btn-secondary"><i class="fas fa-home"></i> Retour &agrave; l'accueil</a></div>`;generateConfetti();animateTimeline();const session=JSON.parse(localStorage.getItem('pizzaman_session')||'null');if(session&&session.email){console.log(`Email de confirmation envoy&eacute; &agrave; ${session.email}`)}}function renderError(){const mainContent=document.getElementById('mainContent');mainContent.innerHTML=`<div class="error-message"><div class="error-icon"><i class="fas fa-exclamation-triangle"></i></div><h1 class="error-title">Commande introuvable</h1><p class="error-text">D&eacute;sol&eacute;, nous n'avons pas pu trouver cette commande. V&eacute;rifiez votre lien ou consultez vos commandes.</p><div class="actions-section"><a href="login.html" class="btn btn-primary"><i class="fas fa-list"></i> Mes commandes</a><a href="index.html" class="btn btn-secondary"><i class="fas fa-home"></i> Retour &agrave; l'accueil</a></div></div>`}document.addEventListener('DOMContentLoaded',()=>{updateCartBadge();checkUserSession();const hamburger=document.getElementById('hamburger');const navLinks=document.getElementById('navLinks');hamburger.addEventListener('click',()=>{hamburger.classList.toggle('active');navLinks.classList.toggle('active')});const orderId=getUrlParameter('order');if(!orderId){renderError();return}const order=getOrderById(orderId);if(!order){renderError();return}renderOrder(order)});</script></body></html>