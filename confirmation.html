<!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Commande Confirm√©e - PizzaMan</title><style>header#main-header{position:fixed;top:0;width:100%;background:#fff;box-shadow:0 2px 15px rgba(0,0,0,.08);z-index:1000;transition:all .3s}
nav{display:flex;justify-content:space-between;align-items:center;padding:.8rem 5%;max-width:1400px;margin:0 auto}
.logo{font-family:'Playfair Display',serif;font-size:1.8rem;color:#D64541;font-weight:700;text-decoration:none}
.nav-links{display:flex;list-style:none;gap:1.5rem;align-items:center;margin:0;padding:0}
.nav-links a{text-decoration:none;color:#2C3E50;font-weight:500;font-size:.95rem;transition:color .3s}
.nav-links a:hover{color:#D64541}
.cart-icon{position:relative;font-size:1.3rem!important;cursor:pointer}
.cart-count{position:absolute;top:-8px;right:-10px;background:#D64541;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:600}
.hamburger{display:none;flex-direction:column;cursor:pointer;padding:5px}
.hamburger span{width:25px;height:3px;background:#2C3E50;margin:3px 0;transition:all .3s;border-radius:2px}
@media(max-width:768px){.nav-links{position:fixed;top:0;right:-100%;width:70%;height:100vh;background:#fff;flex-direction:column;padding:80px 30px 30px;box-shadow:-5px 0 15px rgba(0,0,0,.1);transition:right .3s}
.nav-links.active{right:0}
.hamburger{display:flex}}
@keyframes slideInToast{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}
@keyframes slideOutToast{from{transform:translateX(0);opacity:1}to{transform:translateX(100%);opacity:0}}
*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px;display:flex;align-items:center;justify-content:center}@keyframes checkmark{0%{stroke-dashoffset:100}100%{stroke-dashoffset:0}}@keyframes scaleIn{0%{transform:scale(0);opacity:0}50%{transform:scale(1.1)}100%{transform:scale(1);opacity:1}}@keyframes fadeInUp{0%{opacity:0;transform:translateY(30px)}100%{opacity:1;transform:translateY(0)}}.success-animation{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.9);display:flex;align-items:center;justify-content:center;z-index:9999;animation:fadeOut 0.5s ease 2.5s forwards}.success-circle{width:150px;height:150px;border-radius:50%;background:#4CAF50;display:flex;align-items:center;justify-content:center;animation:scaleIn 0.6s ease;box-shadow:0 0 50px rgba(76,175,80,0.5)}.checkmark{width:80px;height:80px;stroke:#fff;stroke-width:4;stroke-linecap:round;stroke-dasharray:100;stroke-dashoffset:100;animation:checkmark 0.6s ease 0.3s forwards}@keyframes fadeOut{to{opacity:0;visibility:hidden}}.container{max-width:900px;width:100%;background:#fff;border-radius:20px;box-shadow:0 20px 60px rgba(0,0,0,0.3);overflow:hidden;animation:fadeInUp 0.6s ease 2.8s backwards}.header{background:linear-gradient(135deg,#4CAF50,#45a049);padding:40px 30px;text-align:center;color:#fff}.header h1{font-size:2.5em;margin-bottom:10px;animation:fadeInUp 0.6s ease 3s backwards}.header p{font-size:1.2em;opacity:0.95;animation:fadeInUp 0.6s ease 3.1s backwards}.order-number{display:inline-block;background:rgba(255,255,255,0.2);padding:15px 30px;border-radius:50px;font-size:1.5em;font-weight:bold;margin-top:20px;border:2px solid rgba(255,255,255,0.3);animation:fadeInUp 0.6s ease 3.2s backwards}.content{padding:40px 30px}.order-details{margin-bottom:40px}.section-title{font-size:1.5em;color:#333;margin-bottom:20px;padding-bottom:10px;border-bottom:2px solid #4CAF50}.info-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:30px}.info-item{background:#f9f9f9;padding:15px;border-radius:10px;border-left:4px solid #4CAF50}.info-label{font-size:0.9em;color:#666;margin-bottom:5px}.info-value{font-size:1.1em;color:#333;font-weight:600}.order-items{margin:30px 0}.item{display:flex;justify-content:space-between;padding:15px;background:#f9f9f9;margin-bottom:10px;border-radius:8px;align-items:center}.item-name{font-weight:600;color:#333;flex:1}.item-qty{color:#666;margin:0 15px}.item-price{font-weight:bold;color:#4CAF50;font-size:1.1em}.totals{margin-top:20px;padding-top:20px;border-top:2px solid #eee}.total-row{display:flex;justify-content:space-between;padding:10px 15px;font-size:1.1em}.total-row.final{background:#4CAF50;color:#fff;font-size:1.3em;font-weight:bold;border-radius:8px;margin-top:10px}.progress-section{background:#f5f5f5;padding:30px;border-radius:15px;margin-bottom:30px}.progress-bar{display:flex;justify-content:space-between;position:relative;margin-bottom:20px}.progress-bar::before{content:'';position:absolute;top:25px;left:0;right:0;height:4px;background:#ddd;z-index:1}.progress-line{position:absolute;top:25px;left:0;height:4px;background:#4CAF50;z-index:2;transition:width 1s ease;width:0}.step{position:relative;z-index:3;text-align:center;flex:1}.step-circle{width:50px;height:50px;border-radius:50%;background:#ddd;margin:0 auto 10px;display:flex;align-items:center;justify-content:center;font-weight:bold;color:#999;transition:all 0.5s ease;border:3px solid #fff;box-shadow:0 2px 10px rgba(0,0,0,0.1)}.step.active .step-circle{background:#4CAF50;color:#fff;transform:scale(1.1)}.step-label{font-size:0.9em;color:#666;font-weight:600}.step.active .step-label{color:#4CAF50}.eta{text-align:center;font-size:1.2em;color:#666;margin-top:20px}.eta strong{color:#4CAF50;font-size:1.3em}.actions{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-top:30px}.btn{padding:15px 30px;border:none;border-radius:10px;font-size:1.1em;font-weight:600;cursor:pointer;transition:all 0.3s ease;text-align:center;text-decoration:none;display:block}.btn-primary{background:#4CAF50;color:#fff}.btn-primary:hover{background:#45a049;transform:translateY(-2px);box-shadow:0 5px 15px rgba(76,175,80,0.3)}.btn-secondary{background:#fff;color:#4CAF50;border:2px solid #4CAF50}.btn-secondary:hover{background:#4CAF50;color:#fff;transform:translateY(-2px)}.btn-print{background:#2196F3;color:#fff}.btn-print:hover{background:#0b7dda;transform:translateY(-2px)}.toast{position:fixed;bottom:30px;right:30px;background:#333;color:#fff;padding:20px 30px;border-radius:10px;box-shadow:0 5px 20px rgba(0,0,0,0.3);display:none;animation:slideInRight 0.4s ease;z-index:10000}.toast.show{display:block;animation:slideInRight 0.4s ease}@keyframes slideInRight{from{transform:translateX(400px);opacity:0}to{transform:translateX(0);opacity:1}}.toast.success{background:#4CAF50}.error-state{text-align:center;padding:60px 30px}.error-state h2{color:#666;font-size:2em;margin-bottom:20px}.error-state p{color:#999;font-size:1.2em;margin-bottom:30px}@media print{body{background:#fff;padding:0}.container{box-shadow:none;border-radius:0;max-width:100%}.progress-section,.actions,.toast{display:none!important}.header{background:#4CAF50;print-color-adjust:exact;-webkit-print-color-adjust:exact}}@media(max-width:768px){.header h1{font-size:1.8em}.order-number{font-size:1.2em;padding:10px 20px}.info-grid{grid-template-columns:1fr}.actions{grid-template-columns:1fr}.progress-bar{flex-wrap:wrap}.step{flex-basis:50%;margin-bottom:20px}.toast{left:20px;right:20px;bottom:20px}}</style><link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"></head><body>
<header id="main-header">
<nav>
<a href="index.html" class="logo">Pizza<span style="color:#E67E22">Man</span></a>
<ul class="nav-links" id="navLinks">
<li><a href="index.html">Accueil</a></li>
<li><a href="menu.html">Menu</a></li>
<li><a href="order.html">Commander</a></li>
<li><a href="login.html" id="nav-account-link">Mon Compte</a></li>
<li><a href="order.html" class="cart-icon"><i class="fa-solid fa-cart-shopping"></i><span class="cart-count" id="cartCount">0</span></a></li>
</ul>
<div class="hamburger" id="hamburger" onclick="toggleMobileMenu()">
<span></span><span></span><span></span>
</div>
</nav>
</header><div class="success-animation" id="successAnimation"><div class="success-circle"><svg class="checkmark" viewBox="0 0 52 52"><path fill="none" d="M14 27l7 7 16-16"/></svg></div></div><div class="container" id="mainContainer" style="display:none"><div class="header"><h1>üéâ Commande Confirm√©e !</h1><p>Merci pour votre commande</p><div class="order-number" id="orderNumber">PM-2026-00000</div></div><div class="content"><div class="order-details"><h2 class="section-title">üìã D√©tails de la commande</h2><div class="info-grid"><div class="info-item"><div class="info-label">Date et heure</div><div class="info-value" id="orderDate">-</div></div><div class="info-item"><div class="info-label">Mode de paiement</div><div class="info-value" id="paymentMethod">-</div></div><div class="info-item"><div class="info-label">Adresse de livraison</div><div class="info-value" id="deliveryAddress">-</div></div></div><div class="order-items" id="orderItems"></div><div class="totals"><div class="total-row"><span>Sous-total:</span><span id="subtotal">0.00‚Ç¨</span></div><div class="total-row"><span>Frais de livraison:</span><span id="deliveryFee">0.00‚Ç¨</span></div><div class="total-row final"><span>Total:</span><span id="total">0.00‚Ç¨</span></div></div></div><div class="progress-section"><h2 class="section-title">üöÄ Suivi de commande</h2><div class="progress-bar"><div class="progress-line" id="progressLine"></div><div class="step active" id="step1"><div class="step-circle">‚úì</div><div class="step-label">Commande re√ßue</div></div><div class="step" id="step2"><div class="step-circle">2</div><div class="step-label">En pr√©paration</div></div><div class="step" id="step3"><div class="step-circle">3</div><div class="step-label">En livraison</div></div><div class="step" id="step4"><div class="step-circle">4</div><div class="step-label">Livr√©e</div></div></div><div class="eta">‚è±Ô∏è Estimation de livraison: <strong>30-45 minutes</strong></div></div><div class="actions"><a href="order.html" class="btn btn-primary">üçï Commander √† nouveau</a><a href="index.html" class="btn btn-secondary">üè† Retour √† l'accueil</a><button onclick="window.print()" class="btn btn-print">üñ®Ô∏è Imprimer le re√ßu</button></div></div></div><div class="container" id="errorContainer" style="display:none"><div class="content"><div class="error-state"><h2>‚ùå Aucune commande trouv√©e</h2><p>D√©sol√©, nous n'avons pas pu retrouver votre commande.</p><div class="actions"><a href="menu.html" class="btn btn-primary">üìñ Voir le menu</a><a href="index.html" class="btn btn-secondary">üè† Retour √† l'accueil</a></div></div></div></div><div class="toast" id="toast"></div><script>function getOrderIdFromUrl(){const params=new URLSearchParams(window.location.search);return params.get('order')}function getOrderFromStorage(orderId){try{const orders=JSON.parse(localStorage.getItem('pizzaman_orders')||'[]');return orders.find(o=>o.id===orderId)}catch(e){return null}}function formatDate(date){const d=new Date(date);return d.toLocaleDateString('fr-FR',{day:'2-digit',month:'long',year:'numeric',hour:'2-digit',minute:'2-digit'})}function showToast(message,type='success'){const toast=document.getElementById('toast');toast.textContent=message;toast.className=`toast ${type} show`;setTimeout(()=>{toast.classList.remove('show')},3000)}function updateProgress(stepNum){const steps=document.querySelectorAll('.step');const progressLine=document.getElementById('progressLine');const messages=['Commande re√ßue!','Votre pizza est en pr√©paration üë®\u200düç≥','Votre commande est en route üöó','Livraison effectu√©e! Bon app√©tit! üéâ'];for(let i=0;i<stepNum;i++){if(steps[i]){steps[i].classList.add('active');if(steps[i].querySelector('.step-circle')){steps[i].querySelector('.step-circle').textContent='‚úì'}}}const width=(stepNum-1)*33.33;progressLine.style.width=width+'%';if(messages[stepNum-1]){showToast(messages[stepNum-1])}}function displayOrder(order){document.getElementById('orderNumber').textContent=order.orderNumber||'PM-2026-00000';document.getElementById('orderDate').textContent=formatDate(order.date||new Date());document.getElementById('paymentMethod').textContent=order.paymentMethod==='card'?'üí≥ Carte bancaire':'üíµ Esp√®ces';document.getElementById('deliveryAddress').textContent=order.address||'Non sp√©cifi√©e';const itemsContainer=document.getElementById('orderItems');itemsContainer.innerHTML='';let subtotal=0;if(order.items&&order.items.length>0){order.items.forEach(item=>{const itemDiv=document.createElement('div');itemDiv.className='item';const itemPrice=item.price*item.quantity;subtotal+=itemPrice;itemDiv.innerHTML=`<span class="item-name">${item.name}</span><span class="item-qty">x${item.quantity}</span><span class="item-price">${itemPrice.toFixed(2)}‚Ç¨</span>`;itemsContainer.appendChild(itemDiv)})}const deliveryFee=order.deliveryFee||2.50;const total=subtotal+deliveryFee;document.getElementById('subtotal').textContent=subtotal.toFixed(2)+'‚Ç¨';document.getElementById('deliveryFee').textContent=deliveryFee.toFixed(2)+'‚Ç¨';document.getElementById('total').textContent=total.toFixed(2)+'‚Ç¨'}function init(){setTimeout(()=>{document.getElementById('successAnimation').style.display='none';const orderId=getOrderIdFromUrl();if(!orderId){document.getElementById('errorContainer').style.display='block';return}const order=getOrderFromStorage(orderId);if(!order){document.getElementById('errorContainer').style.display='block';return}document.getElementById('mainContainer').style.display='block';displayOrder(order);updateProgress(1);setTimeout(()=>updateProgress(2),5000);setTimeout(()=>updateProgress(3),10000);setTimeout(()=>updateProgress(4),15000)},3000)}init()</script><script>

// Toast system
function showToast(message, type='success') {
  const existing = document.querySelectorAll('.toast-notification');
  existing.forEach(t => t.remove());
  const toast = document.createElement('div');
  toast.className = 'toast-notification';
  toast.style.cssText = 'position:fixed;top:20px;right:20px;padding:15px 25px;border-radius:10px;color:#fff;font-size:.95rem;z-index:9999;animation:slideInToast .4s ease;box-shadow:0 5px 20px rgba(0,0,0,.2);max-width:350px;font-family:Inter,sans-serif';
  toast.style.background = type === 'success' ? '#27ae60' : type === 'error' ? '#e74c3c' : '#f39c12';
  toast.textContent = message;
  document.body.appendChild(toast);
  setTimeout(() => { toast.style.animation = 'slideOutToast .4s ease forwards'; setTimeout(() => toast.remove(), 400); }, 3000);
}

// Cart functions
function getCart() { return JSON.parse(localStorage.getItem('pizzaman_cart') || '[]'); }
function saveCart(cart) { localStorage.setItem('pizzaman_cart', JSON.stringify(cart)); updateCartCount(); }
function getCartCount() { return getCart().reduce((sum, item) => sum + item.quantity, 0); }
function getCartTotal() { return getCart().reduce((sum, item) => sum + (item.price * item.quantity), 0); }
function addToCart(id, name, price, category) {
  const cart = getCart();
  const existing = cart.find(item => item.id === id);
  if (existing) { existing.quantity++; } else { cart.push({id, name, price: parseFloat(price), quantity: 1, category}); }
  saveCart(cart);
  showToast(name + ' ajout√© au panier !');
}
function removeFromCart(id) {
  let cart = getCart().filter(item => item.id !== id);
  saveCart(cart);
}
function updateQuantity(id, delta) {
  const cart = getCart();
  const item = cart.find(i => i.id === id);
  if (item) { item.quantity += delta; if (item.quantity <= 0) { removeFromCart(id); return; } }
  saveCart(cart);
}
function updateCartCount() {
  const countEls = document.querySelectorAll('#cartCount, .cart-count');
  const count = getCartCount();
  countEls.forEach(el => { el.textContent = count; el.style.display = count > 0 ? 'flex' : 'none'; });
}

// Auth check
function checkAuth() {
  const session = JSON.parse(localStorage.getItem('pizzaman_session') || 'null');
  const link = document.getElementById('nav-account-link');
  if (session && link) {
    link.innerHTML = '<i class="fa-solid fa-user"></i> ' + session.name;
    link.href = 'login.html';
  }
}

// Mobile menu
function toggleMobileMenu() {
  document.getElementById('navLinks').classList.toggle('active');
  const spans = document.querySelectorAll('.hamburger span');
  spans[0].style.transform = document.getElementById('navLinks').classList.contains('active') ? 'rotate(45deg) translate(5px, 6px)' : '';
  spans[1].style.opacity = document.getElementById('navLinks').classList.contains('active') ? '0' : '1';
  spans[2].style.transform = document.getElementById('navLinks').classList.contains('active') ? 'rotate(-45deg) translate(5px, -6px)' : '';
}

// Init
document.addEventListener('DOMContentLoaded', function() { updateCartCount(); checkAuth(); });

</script>
</body></html>