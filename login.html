<!DOCTYPE html><html lang="fr"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Connexion - PizzaMan</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"><style>body{padding-top:70px}
header#main-header{position:fixed;top:0;width:100%;background:#fff;box-shadow:0 2px 15px rgba(0,0,0,.08);z-index:1000;transition:all .3s}
nav{display:flex;justify-content:space-between;align-items:center;padding:.8rem 5%;max-width:1400px;margin:0 auto}
.logo{font-family:'Playfair Display',serif;font-size:1.8rem;color:#D64541;font-weight:700;text-decoration:none}
.nav-links{display:flex;list-style:none;gap:1.5rem;align-items:center;margin:0;padding:0}
.nav-links a{text-decoration:none;color:#2C3E50;font-weight:500;font-size:.95rem;transition:color .3s}
.nav-links a:hover{color:#D64541}
.cart-icon{position:relative;font-size:1.3rem!important;cursor:pointer}
.cart-count{position:absolute;top:-8px;right:-10px;background:#D64541;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:600}
.hamburger{display:none;flex-direction:column;cursor:pointer;padding:5px}
.hamburger span{width:25px;height:3px;background:#2C3E50;margin:3px 0;transition:all .3s;border-radius:2px}
@media(max-width:768px){.nav-links{position:fixed;top:0;right:-100%;width:70%;height:100vh;background:#fff;flex-direction:column;padding:80px 30px 30px;box-shadow:-5px 0 15px rgba(0,0,0,.1);transition:right .3s}
.nav-links.active{right:0}
.hamburger{display:flex}}
@keyframes slideInToast{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}
@keyframes slideOutToast{from{transform:translateX(0);opacity:1}to{transform:translateX(100%);opacity:0}}
*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#fff8e1 0%,#ffe0b2 100%);min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px}.header{text-align:center;margin-bottom:30px}.header h1{color:#d32f2f;font-size:2.5em;text-shadow:2px 2px 4px rgba(0,0,0,.1)}.header p{color:#666;margin-top:10px}.container{background:white;border-radius:20px;box-shadow:0 10px 40px rgba(0,0,0,.1);max-width:450px;width:100%;overflow:hidden;position:relative}.forms-container{display:flex;width:200%;transition:transform .6s cubic-bezier(.68,-.55,.265,1.55)}.forms-container.show-signup{transform:translateX(-50%)}.form-wrapper{width:50%;padding:40px}.form-title{color:#d32f2f;font-size:1.8em;margin-bottom:10px;text-align:center}.form-subtitle{color:#666;text-align:center;margin-bottom:30px;font-size:.9em}.input-group{margin-bottom:20px;position:relative}.input-group label{display:block;color:#333;font-weight:500;margin-bottom:8px;font-size:.9em}.input-wrapper{position:relative}.input-wrapper i{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:#999;z-index:1}.input-group input{width:100%;padding:12px 15px 12px 45px;border:2px solid #e0e0e0;border-radius:10px;font-size:1em;transition:all .3s;outline:none}.input-group input:focus{border-color:#ff9800}.input-group input.valid{border-color:#4caf50}.input-group input.invalid{border-color:#f44336}.toggle-password{position:absolute;right:15px;top:50%;transform:translateY(-50%);cursor:pointer;color:#999;z-index:2}.toggle-password:hover{color:#666}.error-message{color:#f44336;font-size:.8em;margin-top:5px;display:none;animation:shake .3s}.error-message.show{display:block}@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}.password-strength{margin-top:8px;height:4px;background:#e0e0e0;border-radius:2px;overflow:hidden;display:none}.password-strength.show{display:block}.password-strength-bar{height:100%;width:0;transition:all .3s;border-radius:2px}.password-strength-bar.weak{width:33%;background:#f44336}.password-strength-bar.medium{width:66%;background:#ff9800}.password-strength-bar.strong{width:100%;background:#4caf50}.password-strength-text{font-size:.8em;margin-top:5px;display:none}.password-strength-text.show{display:block}.checkbox-group{display:flex;align-items:center;margin-bottom:20px}.checkbox-group input[type="checkbox"]{width:18px;height:18px;margin-right:10px;cursor:pointer}.checkbox-group label{color:#666;font-size:.9em;cursor:pointer;user-select:none}.btn{width:100%;padding:14px;background:linear-gradient(135deg,#d32f2f 0%,#f44336 100%);color:white;border:none;border-radius:10px;font-size:1.1em;font-weight:600;cursor:pointer;transition:all .3s;box-shadow:0 4px 15px rgba(211,47,47,.3)}.btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(211,47,47,.4)}.btn:active{transform:translateY(0)}.btn:disabled{opacity:.6;cursor:not-allowed;transform:none}.form-footer{text-align:center;margin-top:20px;color:#666;font-size:.9em}.form-footer a{color:#d32f2f;text-decoration:none;font-weight:600;cursor:pointer}.form-footer a:hover{text-decoration:underline}.toast{position:fixed;top:20px;right:20px;background:white;padding:16px 24px;border-radius:10px;box-shadow:0 4px 20px rgba(0,0,0,.2);display:flex;align-items:center;gap:12px;transform:translateX(400px);transition:transform .3s;z-index:1000}.toast.show{transform:translateX(0)}.toast.success{border-left:4px solid #4caf50}.toast.error{border-left:4px solid #f44336}.toast.info{border-left:4px solid #2196f3}.toast i{font-size:1.5em}.toast.success i{color:#4caf50}.toast.error i{color:#f44336}.toast.info i{color:#2196f3}.toast-message{color:#333}.account-page{padding:40px;display:none}.account-page.show{display:block}.account-header{text-align:center;margin-bottom:30px}.account-header h2{color:#d32f2f;font-size:2em;margin-bottom:10px}.profile-card{background:#f5f5f5;padding:20px;border-radius:10px;margin-bottom:20px}.profile-card h3{color:#333;margin-bottom:15px;font-size:1.2em}.profile-info{display:grid;gap:10px}.profile-info-item{display:flex;align-items:center;gap:10px;color:#666}.profile-info-item i{color:#d32f2f;width:20px}.orders-section{margin-top:30px}.orders-section h3{color:#333;margin-bottom:15px;font-size:1.2em}.order-card{background:#f5f5f5;padding:15px;border-radius:10px;margin-bottom:10px}.order-card-header{display:flex;justify-content:space-between;margin-bottom:10px}.order-date{color:#666;font-size:.9em}.order-total{color:#d32f2f;font-weight:600}.order-items{color:#666;font-size:.9em}.no-orders{text-align:center;color:#999;padding:20px}.btn-secondary{background:linear-gradient(135deg,#757575 0%,#9e9e9e 100%);box-shadow:0 4px 15px rgba(117,117,117,.3)}.btn-secondary:hover{box-shadow:0 6px 20px rgba(117,117,117,.4)}@media(max-width:480px){.header h1{font-size:2em}.form-wrapper{padding:30px}.form-title{font-size:1.5em}}</style><link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet"></head><body>
<header id="main-header">
<nav>
<a href="index.html" class="logo">Pizza<span style="color:#E67E22">Man</span></a>
<ul class="nav-links" id="navLinks">
<li><a href="index.html">Accueil</a></li>
<li><a href="menu.html">Menu</a></li>
<li><a href="order.html">Commander</a></li>
<li><a href="login.html" id="nav-account-link">Mon Compte</a></li>
<li><a href="order.html" class="cart-icon"><i class="fa-solid fa-cart-shopping"></i><span class="cart-count" id="cartCount">0</span></a></li>
</ul>
<div class="hamburger" id="hamburger" onclick="toggleMobileMenu()">
<span></span><span></span><span></span>
</div>
</nav>
</header><div class="header"><h1><i class="fas fa-pizza-slice"></i> PizzaMan</h1><p>Authentification</p></div><div class="container" id="authContainer"><div class="forms-container" id="formsContainer"><div class="form-wrapper"><h2 class="form-title">Connexion</h2><p class="form-subtitle">Bon retour parmi nous !</p><form id="loginForm"><div class="input-group"><label for="loginEmail">Email</label><div class="input-wrapper"><i class="fas fa-envelope"></i><input type="email" id="loginEmail" placeholder="votre@email.com" required></div><span class="error-message" id="loginEmailError"></span></div><div class="input-group"><label for="loginPassword">Mot de passe</label><div class="input-wrapper"><i class="fas fa-lock"></i><input type="password" id="loginPassword" placeholder="Votre mot de passe" required><i class="fas fa-eye toggle-password" id="toggleLoginPassword"></i></div><span class="error-message" id="loginPasswordError"></span></div><div class="checkbox-group"><input type="checkbox" id="rememberMe"><label for="rememberMe">Se souvenir de moi</label></div><button type="submit" class="btn">Se connecter</button><div class="form-footer"><a id="forgotPassword">Mot de passe oubliÃ© ?</a><br><br>Pas encore de compte ? <a id="showSignup">S'inscrire</a></div></form></div><div class="form-wrapper"><h2 class="form-title">Inscription</h2><p class="form-subtitle">Rejoignez la famille PizzaMan !</p><form id="signupForm"><div class="input-group"><label for="signupFirstname">PrÃ©nom</label><div class="input-wrapper"><i class="fas fa-user"></i><input type="text" id="signupFirstname" placeholder="Votre prÃ©nom" required minlength="2"></div><span class="error-message" id="signupFirstnameError"></span></div><div class="input-group"><label for="signupLastname">Nom</label><div class="input-wrapper"><i class="fas fa-user"></i><input type="text" id="signupLastname" placeholder="Votre nom" required minlength="2"></div><span class="error-message" id="signupLastnameError"></span></div><div class="input-group"><label for="signupEmail">Email</label><div class="input-wrapper"><i class="fas fa-envelope"></i><input type="email" id="signupEmail" placeholder="votre@email.com" required></div><span class="error-message" id="signupEmailError"></span></div><div class="input-group"><label for="signupPassword">Mot de passe</label><div class="input-wrapper"><i class="fas fa-lock"></i><input type="password" id="signupPassword" placeholder="Minimum 6 caractÃ¨res" required minlength="6"><i class="fas fa-eye toggle-password" id="toggleSignupPassword"></i></div><span class="error-message" id="signupPasswordError"></span><div class="password-strength" id="passwordStrength"><div class="password-strength-bar" id="passwordStrengthBar"></div></div><span class="password-strength-text" id="passwordStrengthText"></span></div><div class="input-group"><label for="signupConfirmPassword">Confirmer le mot de passe</label><div class="input-wrapper"><i class="fas fa-lock"></i><input type="password" id="signupConfirmPassword" placeholder="Confirmez votre mot de passe" required><i class="fas fa-eye toggle-password" id="toggleConfirmPassword"></i></div><span class="error-message" id="signupConfirmPasswordError"></span></div><div class="checkbox-group"><input type="checkbox" id="acceptTerms" required><label for="acceptTerms">J'accepte les conditions gÃ©nÃ©rales</label></div><button type="submit" class="btn">CrÃ©er mon compte</button><div class="form-footer">DÃ©jÃ  inscrit ? <a id="showLogin">Se connecter</a></div></form></div></div><div class="account-page" id="accountPage"><div class="account-header"><h2>Mon Compte</h2><p>Bienvenue <span id="userName"></span> !</p></div><div class="profile-card"><h3><i class="fas fa-user-circle"></i> Informations personnelles</h3><div class="profile-info"><div class="profile-info-item"><i class="fas fa-user"></i><span id="profileName"></span></div><div class="profile-info-item"><i class="fas fa-envelope"></i><span id="profileEmail"></span></div><div class="profile-info-item"><i class="fas fa-calendar"></i><span>Membre depuis <span id="profileDate"></span></span></div></div></div><div class="orders-section"><h3><i class="fas fa-shopping-bag"></i> Historique des commandes</h3><div id="ordersContainer"></div></div><button class="btn btn-secondary" id="logoutBtn">Se dÃ©connecter</button></div></div><div class="toast" id="toast"><i class="fas fa-check-circle"></i><span class="toast-message" id="toastMessage"></span></div><script>const loginForm=document.getElementById('loginForm');const signupForm=document.getElementById('signupForm');const formsContainer=document.getElementById('formsContainer');const authContainer=document.getElementById('authContainer');const accountPage=document.getElementById('accountPage');const showSignupBtn=document.getElementById('showSignup');const showLoginBtn=document.getElementById('showLogin');const forgotPasswordBtn=document.getElementById('forgotPassword');const logoutBtn=document.getElementById('logoutBtn');const toast=document.getElementById('toast');const toastMessage=document.getElementById('toastMessage');const toggleLoginPassword=document.getElementById('toggleLoginPassword');const toggleSignupPassword=document.getElementById('toggleSignupPassword');const toggleConfirmPassword=document.getElementById('toggleConfirmPassword');function showToast(message,type='success'){toast.className='toast '+type;toastMessage.textContent=message;const icon=toast.querySelector('i');icon.className=type==='success'?'fas fa-check-circle':type==='error'?'fas fa-exclamation-circle':'fas fa-info-circle';toast.classList.add('show');setTimeout(()=>{toast.classList.remove('show')},3000)}function validateEmail(email){return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)}function validateInput(input,errorElement,validator){const value=input.value.trim();let error='';if(!value){error='Ce champ est requis'}else if(validator){error=validator(value)}if(error){input.classList.remove('valid');input.classList.add('invalid');errorElement.textContent=error;errorElement.classList.add('show');return false}else{input.classList.remove('invalid');input.classList.add('valid');errorElement.textContent='';errorElement.classList.remove('show');return true}}function checkPasswordStrength(password){const strengthBar=document.getElementById('passwordStrengthBar');const strengthText=document.getElementById('passwordStrengthText');const strength=document.getElementById('passwordStrength');if(password.length===0){strength.classList.remove('show');strengthText.classList.remove('show');return}strength.classList.add('show');strengthText.classList.add('show');let score=0;if(password.length>=6)score++;if(password.length>=10)score++;if(/[a-z]/.test(password)&&/[A-Z]/.test(password))score++;if(/\d/.test(password))score++;if(/[^a-zA-Z\d]/.test(password))score++;strengthBar.className='password-strength-bar';strengthText.className='password-strength-text show';if(score<=2){strengthBar.classList.add('weak');strengthText.textContent='Faible';strengthText.style.color='#f44336'}else if(score<=3){strengthBar.classList.add('medium');strengthText.textContent='Moyen';strengthText.style.color='#ff9800'}else{strengthBar.classList.add('strong');strengthText.textContent='Fort';strengthText.style.color='#4caf50'}}document.getElementById('loginEmail').addEventListener('input',function(){validateInput(this,document.getElementById('loginEmailError'),val=>!validateEmail(val)?'Email invalide':'')});document.getElementById('loginPassword').addEventListener('input',function(){validateInput(this,document.getElementById('loginPasswordError'),val=>val.length<6?'Au moins 6 caractÃ¨res':'')});document.getElementById('signupFirstname').addEventListener('input',function(){validateInput(this,document.getElementById('signupFirstnameError'),val=>val.length<2?'Au moins 2 caractÃ¨res':'')});document.getElementById('signupLastname').addEventListener('input',function(){validateInput(this,document.getElementById('signupLastnameError'),val=>val.length<2?'Au moins 2 caractÃ¨res':'')});document.getElementById('signupEmail').addEventListener('input',function(){validateInput(this,document.getElementById('signupEmailError'),val=>!validateEmail(val)?'Email invalide':'')});document.getElementById('signupPassword').addEventListener('input',function(){const val=this.value;checkPasswordStrength(val);validateInput(this,document.getElementById('signupPasswordError'),val=>val.length<6?'Au moins 6 caractÃ¨res':'');const confirmInput=document.getElementById('signupConfirmPassword');if(confirmInput.value){validateInput(confirmInput,document.getElementById('signupConfirmPasswordError'),v=>v!==val?'Les mots de passe ne correspondent pas':'')}});document.getElementById('signupConfirmPassword').addEventListener('input',function(){const password=document.getElementById('signupPassword').value;validateInput(this,document.getElementById('signupConfirmPasswordError'),val=>val!==password?'Les mots de passe ne correspondent pas':'')});toggleLoginPassword.addEventListener('click',function(){const input=document.getElementById('loginPassword');input.type=input.type==='password'?'text':'password';this.className=input.type==='password'?'fas fa-eye toggle-password':'fas fa-eye-slash toggle-password'});toggleSignupPassword.addEventListener('click',function(){const input=document.getElementById('signupPassword');input.type=input.type==='password'?'text':'password';this.className=input.type==='password'?'fas fa-eye toggle-password':'fas fa-eye-slash toggle-password'});toggleConfirmPassword.addEventListener('click',function(){const input=document.getElementById('signupConfirmPassword');input.type=input.type==='password'?'text':'password';this.className=input.type==='password'?'fas fa-eye toggle-password':'fas fa-eye-slash toggle-password'});showSignupBtn.addEventListener('click',()=>{formsContainer.classList.add('show-signup')});showLoginBtn.addEventListener('click',()=>{formsContainer.classList.remove('show-signup')});forgotPasswordBtn.addEventListener('click',()=>{showToast('FonctionnalitÃ© bientÃ´t disponible','info')});loginForm.addEventListener('submit',function(e){e.preventDefault();const email=document.getElementById('loginEmail').value.trim();const password=document.getElementById('loginPassword').value;const emailValid=validateInput(document.getElementById('loginEmail'),document.getElementById('loginEmailError'),val=>!validateEmail(val)?'Email invalide':'');const passwordValid=validateInput(document.getElementById('loginPassword'),document.getElementById('loginPasswordError'),val=>val.length<6?'Au moins 6 caractÃ¨res':'');if(!emailValid||!passwordValid)return;const users=JSON.parse(localStorage.getItem('pizzaman_users')||'[]');const user=users.find(u=>u.email===email&&u.password===password);if(!user){showToast('Email ou mot de passe incorrect','error');return}const session={userId:user.id,email:user.email,firstname:user.firstname,lastname:user.lastname,loginDate:new Date().toISOString()};localStorage.setItem('pizzaman_session',JSON.stringify(session));showToast('Connexion rÃ©ussie ! Redirection...','success');setTimeout(()=>{window.location.href='index.html'},1500)});signupForm.addEventListener('submit',function(e){e.preventDefault();const firstname=document.getElementById('signupFirstname').value.trim();const lastname=document.getElementById('signupLastname').value.trim();const email=document.getElementById('signupEmail').value.trim();const password=document.getElementById('signupPassword').value;const confirmPassword=document.getElementById('signupConfirmPassword').value;const acceptTerms=document.getElementById('acceptTerms').checked;const firstnameValid=validateInput(document.getElementById('signupFirstname'),document.getElementById('signupFirstnameError'),val=>val.length<2?'Au moins 2 caractÃ¨res':'');const lastnameValid=validateInput(document.getElementById('signupLastname'),document.getElementById('signupLastnameError'),val=>val.length<2?'Au moins 2 caractÃ¨res':'');const emailValid=validateInput(document.getElementById('signupEmail'),document.getElementById('signupEmailError'),val=>!validateEmail(val)?'Email invalide':'');const passwordValid=validateInput(document.getElementById('signupPassword'),document.getElementById('signupPasswordError'),val=>val.length<6?'Au moins 6 caractÃ¨res':'');const confirmPasswordValid=validateInput(document.getElementById('signupConfirmPassword'),document.getElementById('signupConfirmPasswordError'),val=>val!==password?'Les mots de passe ne correspondent pas':'');if(!firstnameValid||!lastnameValid||!emailValid||!passwordValid||!confirmPasswordValid){showToast('Veuillez corriger les erreurs','error');return}if(!acceptTerms){showToast('Vous devez accepter les conditions gÃ©nÃ©rales','error');return}const users=JSON.parse(localStorage.getItem('pizzaman_users')||'[]');if(users.find(u=>u.email===email)){showToast('Cet email est dÃ©jÃ  utilisÃ©','error');document.getElementById('signupEmail').classList.add('invalid');document.getElementById('signupEmailError').textContent='Cet email est dÃ©jÃ  utilisÃ©';document.getElementById('signupEmailError').classList.add('show');return}const newUser={id:Date.now().toString(),firstname,lastname,email,password,createdAt:new Date().toISOString()};users.push(newUser);localStorage.setItem('pizzaman_users',JSON.stringify(users));const session={userId:newUser.id,email:newUser.email,firstname:newUser.firstname,lastname:newUser.lastname,loginDate:new Date().toISOString()};localStorage.setItem('pizzaman_session',JSON.stringify(session));showToast('Compte crÃ©Ã© avec succÃ¨s ! Redirection...','success');setTimeout(()=>{window.location.href='index.html'},1500)});logoutBtn.addEventListener('click',()=>{localStorage.removeItem('pizzaman_session');showToast('DÃ©connexion rÃ©ussie','success');setTimeout(()=>{window.location.href='index.html'},1500)});function checkSession(){const session=JSON.parse(localStorage.getItem('pizzaman_session'));if(session){authContainer.style.display='none';accountPage.classList.add('show');document.getElementById('userName').textContent=session.firstname;document.getElementById('profileName').textContent=`${session.firstname} ${session.lastname}`;document.getElementById('profileEmail').textContent=session.email;const date=new Date(session.loginDate);document.getElementById('profileDate').textContent=date.toLocaleDateString('fr-FR');const orders=JSON.parse(localStorage.getItem('pizzaman_orders')||'[]');const userOrders=orders.filter(o=>o.userId===session.userId);const ordersContainer=document.getElementById('ordersContainer');if(userOrders.length===0){ordersContainer.innerHTML='<div class="no-orders"><i class="fas fa-inbox" style="font-size:3em;color:#ddd;margin-bottom:10px;"></i><p>Aucune commande pour le moment</p></div>'}else{ordersContainer.innerHTML=userOrders.map(order=>`<div class="order-card"><div class="order-card-header"><span class="order-date"><i class="fas fa-calendar"></i> ${new Date(order.date).toLocaleDateString('fr-FR')}</span><span class="order-total">${order.total.toFixed(2)} â¬</span></div><div class="order-items">${order.items.map(item=>`${item.quantity}x ${item.name}`).join(', ')}</div></div>`).join('')}}}checkSession()</script><script>

// Toast system
function showToast(message, type='success') {
  const existing = document.querySelectorAll('.toast-notification');
  existing.forEach(t => t.remove());
  const toast = document.createElement('div');
  toast.className = 'toast-notification';
  toast.style.cssText = 'position:fixed;top:20px;right:20px;padding:15px 25px;border-radius:10px;color:#fff;font-size:.95rem;z-index:9999;animation:slideInToast .4s ease;box-shadow:0 5px 20px rgba(0,0,0,.2);max-width:350px;font-family:Inter,sans-serif';
  toast.style.background = type === 'success' ? '#27ae60' : type === 'error' ? '#e74c3c' : '#f39c12';
  toast.textContent = message;
  document.body.appendChild(toast);
  setTimeout(() => { toast.style.animation = 'slideOutToast .4s ease forwards'; setTimeout(() => toast.remove(), 400); }, 3000);
}

// Cart functions
function getCart() { return JSON.parse(localStorage.getItem('pizzaman_cart') || '[]'); }
function saveCart(cart) { localStorage.setItem('pizzaman_cart', JSON.stringify(cart)); updateCartCount(); }
function getCartCount() { return getCart().reduce((sum, item) => sum + item.quantity, 0); }
function getCartTotal() { return getCart().reduce((sum, item) => sum + (item.price * item.quantity), 0); }
function addToCart(id, name, price, category) {
  const cart = getCart();
  const existing = cart.find(item => item.id === id);
  if (existing) { existing.quantity++; } else { cart.push({id, name, price: parseFloat(price), quantity: 1, category}); }
  saveCart(cart);
  showToast(name + ' ajoutÃ© au panier !');
}
function removeFromCart(id) {
  let cart = getCart().filter(item => item.id !== id);
  saveCart(cart);
}
function updateQuantity(id, delta) {
  const cart = getCart();
  const item = cart.find(i => i.id === id);
  if (item) { item.quantity += delta; if (item.quantity <= 0) { removeFromCart(id); return; } }
  saveCart(cart);
}
function updateCartCount() {
  const countEls = document.querySelectorAll('#cartCount, .cart-count');
  const count = getCartCount();
  countEls.forEach(el => { el.textContent = count; el.style.display = count > 0 ? 'flex' : 'none'; });
}

// Auth check
function checkAuth() {
  const session = JSON.parse(localStorage.getItem('pizzaman_session') || 'null');
  const link = document.getElementById('nav-account-link');
  if (session && link) {
    link.innerHTML = '<i class="fa-solid fa-user"></i> ' + session.name;
    link.href = 'login.html';
  }
}

// Mobile menu
function toggleMobileMenu() {
  document.getElementById('navLinks').classList.toggle('active');
  const spans = document.querySelectorAll('.hamburger span');
  spans[0].style.transform = document.getElementById('navLinks').classList.contains('active') ? 'rotate(45deg) translate(5px, 6px)' : '';
  spans[1].style.opacity = document.getElementById('navLinks').classList.contains('active') ? '0' : '1';
  spans[2].style.transform = document.getElementById('navLinks').classList.contains('active') ? 'rotate(-45deg) translate(5px, -6px)' : '';
}

// Init
document.addEventListener('DOMContentLoaded', function() { updateCartCount(); checkAuth(); });

</script>
</body></html>